{"ast":null,"code":"import _regeneratorRuntime from\"/Users/migleczigergo/Projects/Codecademy-Full-StackEngineer/JavaScript/Reddit/my-app/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/migleczigergo/Projects/Codecademy-Full-StackEngineer/JavaScript/Reddit/my-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import React from'react';import Head from'./components/head/head';import Posts from'./components/posts/posts';import'./App.css';import Categories from'./components/categories/categories';import{useDispatch,useSelector}from\"react-redux\";import{memes as memesSlice}from'./app/memesSlice';import{loading,selectLoading}from'./app/loadingSlice';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){var dispatch=useDispatch();var fetchMemes=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var memes,response,body,i,img,res,body_1,i_1,img_1;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:memes=[];_context.next=3;return fetch('https://www.reddit.com/r/memes.json?limit=100');case 3:response=_context.sent;_context.next=6;return response.json();case 6:body=_context.sent;for(i=0;i<body.data.children.length;i++){if(body.data.children[i].data.post_hint==='image'){img={ID:memes.length,img:body.data.children[i].data.url_overridden_by_dest,text:body.data.children[i].data.title,author:body.data.children[i].data.author,comment:true,likeColor:null,likes:body.data.children[i].data.ups,subreddit:body.data.children[i].data.subreddit,permalink:body.data.children[i].data.permalink,comments:[]};memes.push(img);}}_context.next=10;return fetch('https://www.reddit.com/best.json?limit=100');case 10:res=_context.sent;_context.next=13;return res.json();case 13:body_1=_context.sent;for(i_1=0;i_1<body_1.data.children.length;i_1++){if(body_1.data.children[i_1].data.post_hint==='image'){//console.log(body.data.children[i].data);\nimg_1={ID:memes.length,img:body_1.data.children[i_1].data.url_overridden_by_dest,text:body_1.data.children[i_1].data.title,author:body_1.data.children[i_1].data.author,comment:true,likeColor:null,likes:body_1.data.children[i_1].data.ups,subreddit:body_1.data.children[i_1].data.subreddit,permalink:body_1.data.children[i_1].data.permalink,comments:[]};memes.push(img_1);}}_context.next=17;return Promise.all(memes);case 17:return _context.abrupt(\"return\",_context.sent);case 18:case\"end\":return _context.stop();}},_callee);}));return function fetchMemes(){return _ref.apply(this,arguments);};}();var isLoading=useSelector(selectLoading);fetchMemes().then(function(memes){if(isLoading===true){dispatch(memesSlice.actions.addMemes(memes));dispatch(loading.actions.setLoading(false));}});if(isLoading){return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:'head',children:/*#__PURE__*/_jsx(Head,{})}),/*#__PURE__*/_jsxs(\"div\",{className:\"main-loading\",children:[/*#__PURE__*/_jsx(\"h1\",{className:'loading',children:\"Loading...\"}),/*#__PURE__*/_jsx(\"div\",{className:\"loader\"})]})]});}else{return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:'head',children:/*#__PURE__*/_jsx(Head,{})}),/*#__PURE__*/_jsxs(\"div\",{className:'main',children:[/*#__PURE__*/_jsx(Posts,{}),/*#__PURE__*/_jsx(Categories,{})]})]});}}export default App;","map":{"version":3,"names":["React","Head","Posts","Categories","useDispatch","useSelector","memes","memesSlice","loading","selectLoading","App","dispatch","fetchMemes","fetch","response","json","body","i","data","children","length","post_hint","img","ID","url_overridden_by_dest","text","title","author","comment","likeColor","likes","ups","subreddit","permalink","comments","push","res","body_1","i_1","img_1","Promise","all","isLoading","then","actions","addMemes","setLoading"],"sources":["/Users/migleczigergo/Projects/Codecademy-Full-StackEngineer/JavaScript/Reddit/my-app/src/App.js"],"sourcesContent":["import React from 'react';\nimport Head from './components/head/head';\nimport Posts from './components/posts/posts';\nimport './App.css'\nimport Categories from './components/categories/categories';\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { memes as memesSlice } from './app/memesSlice';\nimport { loading, selectLoading } from './app/loadingSlice';\n\nfunction App() {\n\n  const dispatch = useDispatch()\n  const fetchMemes = async () =>{\n    let memes =[];\n    const response = await fetch('https://www.reddit.com/r/memes.json?limit=100');\n    const body = await response.json();\n    for (let i = 0; i < body.data.children.length; i++) {\n      if (body.data.children[i].data.post_hint === 'image') {\n        let img = {\n          ID: memes.length,\n          img: body.data.children[i].data.url_overridden_by_dest,\n          text: body.data.children[i].data.title,\n          author: body.data.children[i].data.author,\n          comment: true,\n          likeColor: null,\n          likes: body.data.children[i].data.ups,\n          subreddit: body.data.children[i].data.subreddit,\n          permalink: body.data.children[i].data.permalink,\n          comments: []\n        };\n        memes.push(img);\n      }\n    }\n    const res = await fetch('https://www.reddit.com/best.json?limit=100');\n    const body_1 = await res.json();\n    for (let i_1 = 0; i_1 < body_1.data.children.length; i_1++) {\n      if (body_1.data.children[i_1].data.post_hint === 'image') {\n        //console.log(body.data.children[i].data);\n        let img_1 = {\n          ID: memes.length,\n          img: body_1.data.children[i_1].data.url_overridden_by_dest,\n          text: body_1.data.children[i_1].data.title,\n          author: body_1.data.children[i_1].data.author,\n          comment: true,\n          likeColor: null,\n          likes: body_1.data.children[i_1].data.ups,\n          subreddit: body_1.data.children[i_1].data.subreddit,\n          permalink: body_1.data.children[i_1].data.permalink,\n          comments: []\n        };\n        memes.push(img_1);\n      }\n    }\n    return await Promise.all(memes);    \n  }\n  let isLoading = useSelector(selectLoading);\n\n  fetchMemes().then(memes => {\n    if(isLoading === true){\n      dispatch(memesSlice.actions.addMemes(memes));\n      dispatch(loading.actions.setLoading(false));\n    }\n  })\n\n\n  if(isLoading){\n    return (\n      <div>\n        <div className={'head'} >\n          <Head />\n        </div>\n        <div className='main-loading'>\n          <h1 className={'loading'}>Loading...</h1>\n          <div className=\"loader\">\n          </div>\n        </div>\n      </div>\n    );\n  }else{\n    return (\n      <div>\n        <div className={'head'} >\n          <Head />\n        </div>\n        <div className={'main'} >\n          <Posts />\n          <Categories />\n        </div>\n      </div>\n    );\n  }\n\n  \n}\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}