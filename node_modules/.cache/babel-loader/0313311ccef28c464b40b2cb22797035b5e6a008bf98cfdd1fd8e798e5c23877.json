{"ast":null,"code":"import React from'react';import Head from'./components/head/head';import Posts from'./components/posts/posts';import'./App.css';import Categories from'./components/categories/categories';import{useDispatch}from\"react-redux\";import{memes as memesSlice}from'./app/memesSlice';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){var dispatch=useDispatch();var fetchMemes=function fetchMemes(){var memes=[];return fetch('https://www.reddit.com/r/memes.json?limit=100').then(function(response){return response.json();}).then(function(body){for(var i=0;i<body.data.children.length;i++){if(body.data.children[i].data.post_hint==='image'){var img={ID:memes.length,img:body.data.children[i].data.url_overridden_by_dest,text:body.data.children[i].data.title,author:body.data.children[i].data.author_fullname.substr(3),comment:true,likeColor:null,likes:body.data.children[i].data.ups,subreddit:body.data.children[i].data.subreddit};memes.push(img);}}// return fetch('http://www.reddit.com/best.json?limit=100')\n// .then(res => res.json())\n// .then(body => {\n//   for(let i=0; i< body.data.children.length; i++){\n//     if(body.data.children[i].data.post_hint === 'image'){\n//       //console.log(body.data.children[i].data);\n//       let img = {\n//         ID: memes.length,\n//         img: body.data.children[i].data.url_overridden_by_dest,\n//         text: body.data.children[i].data.title,\n//         author: body.data.children[i].data.author_fullname.substr(3),\n//         comment: true,\n//         likeColor: null,\n//         likes: body.data.children[i].data.ups,\n//         subreddit: body.data.children[i].data.subreddit\n//       }\n//       memes.push(img);\n//     }\n//   }\n//   return Promise.all(memes);\n// })\nreturn Promise.all(memes);});};fetchMemes().then(function(memes){console.log(memes);dispatch(memesSlice.actions.addMemes(memes));});return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:'head',children:/*#__PURE__*/_jsx(Head,{})}),/*#__PURE__*/_jsxs(\"div\",{className:'main',children:[/*#__PURE__*/_jsx(Posts,{}),/*#__PURE__*/_jsx(Categories,{})]})]});}export default App;","map":{"version":3,"names":["React","Head","Posts","Categories","useDispatch","memes","memesSlice","App","dispatch","fetchMemes","fetch","then","response","json","body","i","data","children","length","post_hint","img","ID","url_overridden_by_dest","text","title","author","author_fullname","substr","comment","likeColor","likes","ups","subreddit","push","Promise","all","console","log","actions","addMemes"],"sources":["/Users/migleczigergo/Projects/Codecademy-Full-StackEngineer/JavaScript/Reddit/my-app/src/App.js"],"sourcesContent":["import React from 'react';\nimport Head from './components/head/head';\nimport Posts from './components/posts/posts';\nimport './App.css'\nimport Categories from './components/categories/categories';\nimport { useDispatch } from \"react-redux\";\nimport { memes as memesSlice } from './app/memesSlice';\n\nfunction App() {\n\n  const dispatch = useDispatch()\n  const fetchMemes = () =>{\n    let memes =[];\n    return fetch('https://www.reddit.com/r/memes.json?limit=100')\n    .then(response => response.json())\n    .then(body => {\n      for(let i=0; i< body.data.children.length; i++){\n        if(body.data.children[i].data.post_hint === 'image'){\n          let img = {\n            ID: memes.length,\n            img: body.data.children[i].data.url_overridden_by_dest,\n            text: body.data.children[i].data.title,\n            author: body.data.children[i].data.author_fullname.substr(3),\n            comment: true,\n            likeColor: null,\n            likes: body.data.children[i].data.ups,\n            subreddit: body.data.children[i].data.subreddit\n          }\n            memes.push(img);\n        }\n      }\n      // return fetch('http://www.reddit.com/best.json?limit=100')\n      // .then(res => res.json())\n      // .then(body => {\n      //   for(let i=0; i< body.data.children.length; i++){\n      //     if(body.data.children[i].data.post_hint === 'image'){\n      //       //console.log(body.data.children[i].data);\n      //       let img = {\n      //         ID: memes.length,\n      //         img: body.data.children[i].data.url_overridden_by_dest,\n      //         text: body.data.children[i].data.title,\n      //         author: body.data.children[i].data.author_fullname.substr(3),\n      //         comment: true,\n      //         likeColor: null,\n      //         likes: body.data.children[i].data.ups,\n      //         subreddit: body.data.children[i].data.subreddit\n      //       }\n      //       memes.push(img);\n      //     }\n      //   }\n      //   return Promise.all(memes);\n      // })\n      return Promise.all(memes);\n    })\n  }\n\n  fetchMemes().then(memes => {\n    console.log(memes);\n    dispatch(memesSlice.actions.addMemes(memes));\n  })\n\n  return (\n    <div>\n      <div className={'head'} >\n        <Head />\n      </div>\n      <div className={'main'} >\n        <Posts />\n        <Categories />\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"AAAA,MAAOA,MAAK,KAAM,OAAO,CACzB,MAAOC,KAAI,KAAM,wBAAwB,CACzC,MAAOC,MAAK,KAAM,0BAA0B,CAC5C,MAAO,WAAW,CAClB,MAAOC,WAAU,KAAM,oCAAoC,CAC3D,OAASC,WAAW,KAAQ,aAAa,CACzC,OAASC,KAAK,GAAIC,WAAU,KAAQ,kBAAkB,CAAC,wFAEvD,QAASC,IAAG,EAAG,CAEb,GAAMC,SAAQ,CAAGJ,WAAW,EAAE,CAC9B,GAAMK,WAAU,CAAG,QAAbA,WAAU,EAAQ,CACtB,GAAIJ,MAAK,CAAE,EAAE,CACb,MAAOK,MAAK,CAAC,+CAA+C,CAAC,CAC5DC,IAAI,CAAC,SAAAC,QAAQ,QAAIA,SAAQ,CAACC,IAAI,EAAE,GAAC,CACjCF,IAAI,CAAC,SAAAG,IAAI,CAAI,CACZ,IAAI,GAAIC,EAAC,CAAC,CAAC,CAAEA,CAAC,CAAED,IAAI,CAACE,IAAI,CAACC,QAAQ,CAACC,MAAM,CAAEH,CAAC,EAAE,CAAC,CAC7C,GAAGD,IAAI,CAACE,IAAI,CAACC,QAAQ,CAACF,CAAC,CAAC,CAACC,IAAI,CAACG,SAAS,GAAK,OAAO,CAAC,CAClD,GAAIC,IAAG,CAAG,CACRC,EAAE,CAAEhB,KAAK,CAACa,MAAM,CAChBE,GAAG,CAAEN,IAAI,CAACE,IAAI,CAACC,QAAQ,CAACF,CAAC,CAAC,CAACC,IAAI,CAACM,sBAAsB,CACtDC,IAAI,CAAET,IAAI,CAACE,IAAI,CAACC,QAAQ,CAACF,CAAC,CAAC,CAACC,IAAI,CAACQ,KAAK,CACtCC,MAAM,CAAEX,IAAI,CAACE,IAAI,CAACC,QAAQ,CAACF,CAAC,CAAC,CAACC,IAAI,CAACU,eAAe,CAACC,MAAM,CAAC,CAAC,CAAC,CAC5DC,OAAO,CAAE,IAAI,CACbC,SAAS,CAAE,IAAI,CACfC,KAAK,CAAEhB,IAAI,CAACE,IAAI,CAACC,QAAQ,CAACF,CAAC,CAAC,CAACC,IAAI,CAACe,GAAG,CACrCC,SAAS,CAAElB,IAAI,CAACE,IAAI,CAACC,QAAQ,CAACF,CAAC,CAAC,CAACC,IAAI,CAACgB,SACxC,CAAC,CACC3B,KAAK,CAAC4B,IAAI,CAACb,GAAG,CAAC,CACnB,CACF,CACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAOc,QAAO,CAACC,GAAG,CAAC9B,KAAK,CAAC,CAC3B,CAAC,CAAC,CACJ,CAAC,CAEDI,UAAU,EAAE,CAACE,IAAI,CAAC,SAAAN,KAAK,CAAI,CACzB+B,OAAO,CAACC,GAAG,CAAChC,KAAK,CAAC,CAClBG,QAAQ,CAACF,UAAU,CAACgC,OAAO,CAACC,QAAQ,CAAClC,KAAK,CAAC,CAAC,CAC9C,CAAC,CAAC,CAEF,mBACE,oCACE,YAAK,SAAS,CAAE,MAAO,uBACrB,KAAC,IAAI,IAAG,EACJ,cACN,aAAK,SAAS,CAAE,MAAO,wBACrB,KAAC,KAAK,IAAG,cACT,KAAC,UAAU,IAAG,GACV,GACF,CAEV,CAEA,cAAeE,IAAG"},"metadata":{},"sourceType":"module","externalDependencies":[]}