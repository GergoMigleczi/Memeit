{"ast":null,"code":"import React from'react';import Head from'./components/head/head';import Posts from'./components/posts/posts';import'./App.css';import Categories from'./components/categories/categories';import{useDispatch,useSelector}from\"react-redux\";import{memes as memesSlice}from'./app/memesSlice';import{loading,selectLoading}from'./app/loadingSlice';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){var dispatch=useDispatch();var fetchMemes=function fetchMemes(){var memes=[];return fetch('https://www.reddit.com/r/memes.json?limit=100').then(function(response){return response.json();}).then(function(body){for(var i=0;i<body.data.children.length;i++){if(body.data.children[i].data.post_hint==='image'){var img={ID:memes.length,img:body.data.children[i].data.url_overridden_by_dest,text:body.data.children[i].data.title,author:body.data.children[i].data.author_fullname.substr(3),comment:true,likeColor:null,likes:body.data.children[i].data.ups,subreddit:body.data.children[i].data.subreddit};memes.push(img);}}return fetch('https://www.reddit.com/best.json?limit=100').then(function(res){return res.json();}).then(function(body){for(var _i=0;_i<body.data.children.length;_i++){if(body.data.children[_i].data.post_hint==='image'){//console.log(body.data.children[i].data);\nvar _img={ID:memes.length,img:body.data.children[_i].data.url_overridden_by_dest,text:body.data.children[_i].data.title,author:body.data.children[_i].data.author_fullname.substr(3),comment:true,likeColor:null,likes:body.data.children[_i].data.ups,subreddit:body.data.children[_i].data.subreddit};memes.push(_img);}}return Promise.all(memes);});});};var isLoading=useSelector(selectLoading);fetchMemes().then(function(memes){if(isLoading===true){dispatch(memesSlice.actions.addMemes(memes));dispatch(loading.actions.setLoading(false));}});if(isLoading){return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:'head',children:/*#__PURE__*/_jsx(Head,{})}),/*#__PURE__*/_jsxs(\"div\",{className:\"main-loading\",children:[/*#__PURE__*/_jsx(\"h1\",{className:'loading',children:\"Loading...\"}),/*#__PURE__*/_jsx(\"div\",{className:\"loader\"})]})]});}else{return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:'head',children:/*#__PURE__*/_jsx(Head,{})}),/*#__PURE__*/_jsxs(\"div\",{className:'main',children:[/*#__PURE__*/_jsx(Posts,{}),/*#__PURE__*/_jsx(Categories,{})]})]});}}export default App;","map":{"version":3,"names":["React","Head","Posts","Categories","useDispatch","useSelector","memes","memesSlice","loading","selectLoading","App","dispatch","fetchMemes","fetch","then","response","json","body","i","data","children","length","post_hint","img","ID","url_overridden_by_dest","text","title","author","author_fullname","substr","comment","likeColor","likes","ups","subreddit","push","res","Promise","all","isLoading","actions","addMemes","setLoading"],"sources":["/Users/migleczigergo/Projects/Codecademy-Full-StackEngineer/JavaScript/Reddit/my-app/src/App.js"],"sourcesContent":["import React from 'react';\nimport Head from './components/head/head';\nimport Posts from './components/posts/posts';\nimport './App.css'\nimport Categories from './components/categories/categories';\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { memes as memesSlice } from './app/memesSlice';\nimport { loading, selectLoading } from './app/loadingSlice';\n\nfunction App() {\n\n  const dispatch = useDispatch()\n  const fetchMemes = () =>{\n    let memes =[];\n    return fetch('https://www.reddit.com/r/memes.json?limit=100')\n    .then(response => response.json())\n    .then(body => {\n      for(let i=0; i< body.data.children.length; i++){\n        if(body.data.children[i].data.post_hint === 'image'){\n          let img = {\n             ID: memes.length,\n             img: body.data.children[i].data.url_overridden_by_dest,\n             text: body.data.children[i].data.title,\n             author: body.data.children[i].data.author_fullname.substr(3),\n             comment: true,\n             likeColor: null,\n             likes: body.data.children[i].data.ups,\n             subreddit: body.data.children[i].data.subreddit\n            }\n          memes.push(img);\n        }\n      }\n      return fetch('https://www.reddit.com/best.json?limit=100')\n      .then(res => res.json())\n      .then(body => {\n         for(let i=0; i< body.data.children.length; i++){\n           if(body.data.children[i].data.post_hint === 'image'){\n             //console.log(body.data.children[i].data);\n             let img = {\n               ID: memes.length,\n               img: body.data.children[i].data.url_overridden_by_dest,\n               text: body.data.children[i].data.title,\n               author: body.data.children[i].data.author_fullname.substr(3),\n               comment: true,\n               likeColor: null,\n               likes: body.data.children[i].data.ups,\n              subreddit: body.data.children[i].data.subreddit\n           }\n             memes.push(img);\n          }\n         }\n        return Promise.all(memes);\n      })\n    })    \n  }\n  let isLoading = useSelector(selectLoading);\n\n  fetchMemes().then(memes => {\n    if(isLoading === true){\n      dispatch(memesSlice.actions.addMemes(memes));\n      dispatch(loading.actions.setLoading(false));\n    }\n  })\n\n\n  if(isLoading){\n    return (\n      <div>\n        <div className={'head'} >\n          <Head />\n        </div>\n        <div className='main-loading'>\n          <h1 className={'loading'}>Loading...</h1>\n          <div className=\"loader\">\n          </div>\n        </div>\n      </div>\n    );\n  }else{\n    return (\n      <div>\n        <div className={'head'} >\n          <Head />\n        </div>\n        <div className={'main'} >\n          <Posts />\n          <Categories />\n        </div>\n      </div>\n    );\n  }\n\n  \n}\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}